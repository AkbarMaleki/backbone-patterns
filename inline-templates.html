<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="assets/style.css?t=a44c9e9d">
    <link rel="stylesheet" href="http://ricostacruz.com/docpress-rsc/style.css">
    <script src="assets/script.js?t=2bcc4b59"></script>
    <title>Inline templates</title>
    <meta name="viewport" content="width=device-width">
    <script>
      if (false || window.location.hostname.indexOf("ricostacruz.com") === window.location.hostname.length - 15) {
        (function(d,o,c,p,r,e,s){d['GoogleAnalyticsObject']=r;d[r]=d[r]||function(){(d[r].q=d[r].q||[]).push(arguments)},d[r].l=1*new Date();e=o.createElement(c),s=o.getElementsByTagName(c)[0];e.async=1;e.src=p;s.parentNode.insertBefore(e,s)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create',"UA-20473929-1",'auto')
      }
    </script>
  </head>
  <body class="-menu-visible">
    <div class="doc-layout">
      <div class="toggle menu-toggle js-menu-toggle"></div>
      <div class="body page-inline-templates">
        <div class="header-nav">
          <div class="right"><a href="https://github.com/rstacruz/backbone-patterns" data-title="rstacruz/backbone-patterns" class="iconlink">
              <!-- span.title Open in GitHub--><span class="icon -github"></span></a>
          </div>
        </div>
        <div class="markdown-body"><h1 id="inline-templates">Inline templates</h1>
<p><strong>The problem:</strong> if you need to use view templates in a small Backbone
application, defining your templates in JavaScript code will be unwieldy and
difficult to maintain.</p>
<p><strong>Solution:</strong> You may need some view templates to be inline in the HTML page.</p>
<p>This solution has been outlined by John Resig in his blog post about <a href="http://ejohn.org/blog/javascript-micro-templating/">JavaScript
micro templating</a>.</p>
<h2 id="defining-inline-templates">Defining inline templates</h2>
<p>You can put templates in an HTML <code>&lt;script&gt;</code> tag.</p>
<ul>
<li>
<p><em>Change the <code>type</code> attribute</em> to something else so it will not be interpreted
as JavaScript.</p>
</li>
<li>
<p><em>Set an <code>id</code></em> so we can easily refer to it.</p>
</li>
</ul>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="pl-ent">script</span> <span class="pl-e">type</span>=<span class="pl-s">&quot;text/html&quot;</span> <span class="pl-e">id</span>=<span class="pl-s">&quot;template-contact&quot;</span>&gt;</span><span class="handlebars"><span class="xml">
  <span class="hljs-tag">&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s">&apos;contact&apos;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="pl-ent">strong</span>&gt;</span><span class="hljs-tag">&lt;<span class="pl-ent">%=</span> <span class="pl-e">name</span> %&gt;</span><span class="hljs-tag">&lt;/<span class="pl-ent">strong</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="pl-ent">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="pl-ent">%=</span> <span class="pl-e">email</span> %&gt;</span><span class="hljs-tag">&lt;/<span class="pl-ent">span</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="pl-ent">div</span>&gt;</span>
</span></span><span class="hljs-tag">&lt;/<span class="pl-ent">script</span>&gt;</span>
</code></pre>
<h2 id="using-inline-templates">Using inline templates</h2>
<p>In JavaScript, you can get the <code>innerHTML</code> (or jQuery&#x2019;s <a href="http://api.jquery.com/html">.html()</a>) of that
HTML element to fetch the raw template data. You can pass this onto Underscore&#x2019;s
<code>_.template</code> to create a template function.</p>
<pre><code class="lang-javascript">$(<span class="pl-s">&quot;#template-contact&quot;</span>).html();
<span class="pl-c">//=&gt; &quot;&lt;div class=&apos;contact&apos;&gt;\n&lt;strong&gt;&lt;%= name %&gt;&lt;/str...&quot;</span>

template = _.template($(<span class="pl-s">&quot;#template-contact&quot;</span>).html());
<span class="pl-c">//=&gt; function() { ... }</span>
</code></pre>
<h2 id="integrating-into-backbone">Integrating into Backbone</h2>
<p>In practice, you will most likely be using this in the <code>render()</code> method of a
view like so.</p>
<pre><code class="lang-javascript"><span class="pl-k">var</span> ContactView = Backbone.View.extend({
  template: _.template($(<span class="pl-s">&quot;#template-contact&quot;</span>).html()),

  render: <span class="hljs-function"><span class="pl-k">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="pl-c">// This is a dictionary object of the attributes of the models.</span>
    <span class="pl-c">// =&gt; { name: &quot;Jason&quot;, email: &quot;j.smith@gmail.com&quot; }</span>
    <span class="pl-k">var</span> dict = <span class="pl-k">this</span>.model.toJSON();

    <span class="pl-c">// Pass this object onto the template function.</span>
    <span class="pl-c">// This returns an HTML string.</span>
    <span class="pl-k">var</span> html = <span class="pl-k">this</span>.template(dict);

    <span class="pl-c">// Append the result to the view&apos;s element.</span>
    $(<span class="pl-k">this</span>.el).append(html);

    <span class="pl-c">// ...</span>
  }
});
</code></pre>
<h2 id="limitations">Limitations</h2>
<p><strong>Single-page apps only.</strong>
This assumes that your Backbone application is all contained in one HTML page.
If your app spans across multiple HTML pages, and each page will be needing the
same templates, you may be redundantly streaming the template data to the
browser unnecessarily. Consider using JST templates instead.</p>
<p>Note that the given example assumes that the <code>#template-contact</code> element appears
before you include JavaScript files, as it requires the template element to be
accessible before the class is defined.</p>

        </div>
        <div class="footer-nav">
          <div class="left"><a href="bootstrapping-data.html"><span class="title">Bootstrapping data</span></a></div>
          <div class="right"><a href="jst-templates.html"><span class="label">Next: </span><span class="title">JST templates</span></a></div>
        </div>
      </div>
      <div class="menu toc-menu">
        <li class="menu-item -level-0 -parent">
          <ul class="submenu">
            <li class="menu-item -level-1"><a href="index.html" class="link title  link-index">Backbone Patterns</a>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Model patterns</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a href="bootstrapping-data.html" class="link title  link-bootstrapping-data">Bootstrapping data</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">View patterns</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a href="inline-templates.html" class="link title -active link-inline-templates">Inline templates</a>
                  <ul class="headings heading-list">
                    <li class="heading-item -depth-2"><a href="#defining-inline-templates" class="hlink link-defining-inline-templates">Defining inline templates</a>
                    </li>
                    <li class="heading-item -depth-2"><a href="#using-inline-templates" class="hlink link-using-inline-templates">Using inline templates</a>
                    </li>
                    <li class="heading-item -depth-2"><a href="#integrating-into-backbone" class="hlink link-integrating-into-backbone">Integrating into Backbone</a>
                    </li>
                    <li class="heading-item -depth-2"><a href="#limitations" class="hlink link-limitations">Limitations</a>
                    </li>
                  </ul>
                </li>
                <li class="menu-item -level-2"><a href="jst-templates.html" class="link title  link-jst-templates">JST templates</a>
                </li>
                <li class="menu-item -level-2"><a href="partials.html" class="link title  link-partials">Partials</a>
                </li>
                <li class="menu-item -level-2"><a href="animation-buffer.html" class="link title  link-animation-buffer">Animation buffer</a>
                </li>
                <li class="menu-item -level-2"><a href="subviews.html" class="link title  link-subviews">Sub-views</a>
                </li>
                <li class="menu-item -level-2"><a href="delegate-views.html" class="link title  link-delegate-views">Delegate views</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">General patterns</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a href="mixins.html" class="link title  link-mixins">Mixins</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Conventions</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a href="naming-convention.html" class="link title  link-naming-convention">Naming convention</a>
                </li>
                <li class="menu-item -level-2"><a href="namespace-convention.html" class="link title  link-namespace-convention">Namespace convention</a>
                </li>
                <li class="menu-item -level-2"><a href="requirejs-and-amd.html" class="link title  link-requirejs-and-amd">RequireJS and AMD</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1 -parent"><span class="title">Anti-patterns</span>
              <ul class="submenu">
                <li class="menu-item -level-2"><a href="document-ready-abuse.html" class="link title  link-document-ready-abuse">document.ready abuse</a>
                </li>
                <li class="menu-item -level-2"><a href="things-outside-views.html" class="link title  link-things-outside-views">Things outside views</a>
                </li>
                <li class="menu-item -level-2"><a href="event-handlers-outside-views.html" class="link title  link-event-handlers-outside-views">Event handlers outside views</a>
                </li>
              </ul>
            </li>
            <li class="menu-item -level-1"><a href="other-links.html" class="link title  link-other-links">Other links</a>
            </li>
          </ul>
        </li>
      </div>
    </div>
  </body>
</html>